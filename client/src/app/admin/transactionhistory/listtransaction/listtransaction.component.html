<div class="row">
  <div class="col-lg-12">
      <h1 class="page-header">Danh sách các giao dịch quy đổi quà </h1>
  </div>
  <!-- /.col-lg-12 -->
</div> <!-- /.row -->
<div class="row" style="padding-bottom:5px">
  <div class="col-lg-12">
      <a routerLink="/admin/formtransaction" class="btn btn-danger"><span class="fa fa-plus"></span> Thêm giao dịch</a>
  </div>
  <!-- /.col-lg-12 -->
</div>  <!-- /.row -->
<!-- /.row -->
<div class="row">
  <div class="col-lg-12">
      <div class="panel panel-primary">
          <div class="panel-heading">
              Form danh sách giao dịch
          </div>
          <!-- /.panel-heading -->
          <div class="panel-body">
              <table datatable [dtOptions]="dtOptions" width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example" *ngIf="this.temp_var">
                  <thead>
                      <tr>
                          
                          <th>Mã đơn hàng</th>
                          <th>Tên sản phẩm</th>
                          <th>Số point quy đổi</th>
                          <th>Địa điểm nhận quà</th>
                          <th>Tên người giao dịch</th>
                          <th>Ngày đổi quà</th>
                          <th>Tình trạng đơn hàng</th>
                          <th>Ngày nhận quà</th>
                          <th>Option</th>
                      </tr>
                  </thead>
                  <tbody>
                    <tr *ngFor="let o of order;">
                          <td>{{ o.codeOrder }}</td>
                          <td>{{ o.productName }}</td>
                          <td>{{ o.point_qd }}</td>
                          <td>{{ o.placeOfReceipt }}</td>
                          <td>{{ o.employee.username }}</td>
                          <td>{{ o.orderDay | date: 'dd/MM/yyyy hh:mm:ss'}}</td>
                          <td>
                            <div *ngIf="o.status==='Hoàn thành'">
                              <button [disabled]="loadingBlogs"  (click)="toggle(o._id, o.status)" class="btn btn-primary">{{o.status}}</button>
                            </div>
                            <div *ngIf="o.status==='Đang chờ'">
                                    <button [disabled]="loadingBlogs"  (click)="toggle(o._id, o.status)" class="btn btn-danger">{{o.status}}</button>

                            </div>
                          </td>
                          <td>{{ o.receivedDay | date: 'dd/MM/yyyy hh:mm:ss'}}</td>
                          <td class="center">
                              <div class="dropdown text-center">
                                  <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                      <i class="fa fa-gear fa-fw"></i> <i class="fa fa-caret-down"></i>
                                  </a>
                                  <ul class="dropdown-menu dropdown-user">
                                      <li><a [routerLink]="['/admin/edittransaction/', o._id]"><i class="fa fa-pencil fa-fw"></i> Edit</a>
                                      </li>
                                      <li><a [routerLink]="['/admin/deletetransaction/', o._id]"><i class="fa fa-trash-o fa-fw"></i> Delete</a>
                                      </li>
                                  </ul>
                              <!-- /.dropdown-user -->
                              </div>
                          </td>
                      </tr>
                  </tbody>
              </table>
              <!-- /.table-responsive -->
              
          </div>
          <!-- /.panel-body -->
      </div>
      <!-- /.panel -->
  </div>
  <!-- /.col-lg-12 -->
</div>
<!-- /.row -->